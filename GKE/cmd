gcloud beta container clusters create private-standard-cluster --zone=asia-east1-b --enable-private-nodes --master-ipv4-cidr 172.16.0.16/28 --enable-ip-alias --network=vpn --subnetwork=vpn-asia-east1

kubectl run test-pod --image=busybox --command sleep 3600
進入臨時pod中測試
kubectl exec -it test-pod -n default -- /bin/sh
kubectl exec -it test-pod -- sh

測試連接:tcp:10.1.1.230 不知道能不能行

建立cluster:
    gcloud container clusters create standard-cluter-1 --zone asia-east1 --network vpn --subnet vpn-asia-east1 --cluster-ip4-cidr 10.240.0.0/24 --services-ip4-cidr 10.240.0.0/24

連結至cluster
    gcloud container clusters get-credentials standard-cluster-1 --region asia-east1
    standard-cluster-1
    
standard-cluster-1
檢視cluster下子網路:
    gcloud container clusters describe migo-cluster-1 --zone asia-east1 --format="value(clusterIpv4Cidr, servicesIpv4Cidr)"
    10.216.0.0/14   10.128.16.0/20

gcloud compute networks subnets list --network=vpn-asia-east1
    NAME: vpn-asia-east1
    REGION: asia-east1
    NETWORK: vpn
    RANGE: 10.240.0.0/24
    STACK_TYPE: IPV4_ONLY
    IPV6_ACCESS_TYPE: 
    INTERNAL_IPV6_PREFIX: 
    EXTERNAL_IPV6_PREFIX:

kubectl get nodes -o wide 可以獲取 nodes 的 IP 地址和所在的節點 IP 地址。 
kubectl get pods -o wide 可以獲取 Pod 的 IP 地址和所在的節點 IP 地址。

檢測cluster 網路
gcloud container clusters describe migo-cluster-1 --zone asia-east1 --format="value(network)"
確認目標位址網路
gcloud compute addresses describe 34.80.247.190 --region asia-east1 --format="value(network)"

gcloud beta container clusters create private-standard-cluster --zone=asia-east1-b --enable-private-nodes --master-ipv4-cidr 172.16.0.16/28 --enable-ip-alias --network=vpn --subnetwork=vpn-asia-east1